# =============================================================================
# Docker Profile Configuration
# =============================================================================
# This file is loaded when: SPRING_PROFILES_ACTIVE=docker
# It OVERRIDES values from application.yml - only differences are specified here.
#
# How Spring merges configs:
#   1. Load application.yml (all defaults)
#   2. Load application-docker.yml (overrides only)
#   3. Docker config wins where there's overlap
# =============================================================================

spring:
  # ---------------------------------------------------------------------------
  # Database Configuration (PostgreSQL in Docker)
  datasource:
    url: jdbc:postgresql://postgres:5432/trading_db
    driver-class-name: org.postgresql.Driver
    username: trading
    password: trading123

  # Disable H2 console in Docker (we're using PostgreSQL)
  h2:
    console:
      enabled: false

  # JPA Configuration for PostgreSQL
  jpa:
    hibernate:
      ddl-auto: update
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    # Reduce SQL logging noise in Docker
    show-sql: false

  # ---------------------------------------------------------------------------
  # RabbitMQ Configuration
  autoconfigure:
    exclude: []  # Clear the exclusion list - enable RabbitMQ

  rabbitmq:
    host: rabbitmq
    port: 5672
    username: guest
    password: guest

# Logging for Docker
logging:
  level:
    com.trading: INFO
    org.springframework.amqp: INFO
    org.hibernate.SQL: WARN
